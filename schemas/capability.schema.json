{
  "$id": "https://github.com/Davidmctf/agents-promps/tree/main/schemas/capability.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": true,
  "description": "Schema for validating capability instruction file metadata (YAML frontmatter in .instructions.md files)",
  "examples": [
    {
      "author": "System",
      "category": "core",
      "complexity": "medium",
      "created": "2025-10-15",
      "description": "Ensures safe execution with validation and confirmation protocols",
      "id": "core.safety",
      "name": "Safety & Security",
      "platformAgnostic": true,
      "provides": [
        "Input validation",
        "Confirmation protocols",
        "Information protection",
        "Secure operations"
      ],
      "requires": [],
      "status": "stable",
      "tags": [
        "security",
        "validation",
        "core"
      ],
      "type": "core-capability",
      "version": "1.0.0"
    },
    {
      "author": "System",
      "category": "coordination",
      "compatibleWith": [
        "multi-agent-coordination",
        "workflow-optimization"
      ],
      "complexity": "high",
      "created": "2025-10-15",
      "description": "Coordinates complex multi-step workflows and agent interactions",
      "documentation": {
        "useCases": [
          "Multi-step refactoring",
          "Complex analysis",
          "Project initialization"
        ]
      },
      "id": "orchestration",
      "name": "Orchestration",
      "platformAgnostic": true,
      "provides": [
        "Request analysis",
        "Task decomposition",
        "Agent selection",
        "Execution planning"
      ],
      "requires": [
        "core.safety",
        "core.communication"
      ],
      "status": "stable",
      "tags": [
        "coordination",
        "workflows",
        "advanced"
      ],
      "type": "capability",
      "version": "1.0.0"
    }
  ],
  "properties": {
    "applyTo": {
      "default": "**",
      "description": "type apply documents affect",
      "type": "string"
    },
    "author": {
      "description": "Author or team that created this capability",
      "type": "string"
    },
    "category": {
      "description": "Category for organizing capabilities",
      "enum": [
        "core",
        "coordination",
        "optimization",
        "communication",
        "analysis",
        "assistance",
        "awareness",
        "custom"
      ],
      "type": "string"
    },
    "compatibleWith": {
      "description": "Capabilities that work well in combination with this one",
      "items": {
        "pattern": "^[a-z][a-z0-9-]*(\\.[a-z][a-z0-9-]*)*$",
        "type": "string"
      },
      "type": "array",
      "uniqueItems": true
    },
    "complexity": {
      "description": "Implementation complexity level",
      "enum": [
        "low",
        "medium",
        "high"
      ],
      "type": "string"
    },
    "created": {
      "description": "Creation date in YYYY-MM-DD format",
      "format": "date",
      "type": "string"
    },
    "description": {
      "description": "Brief description of what this capability provides",
      "type": "string"
    },
    "documentation": {
      "description": "Documentation metadata",
      "properties": {
        "examples": {
          "description": "Example scenarios or code snippets",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "overview": {
          "description": "Brief overview or summary",
          "type": "string"
        },
        "references": {
          "description": "Links to related documentation or resources",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "useCases": {
          "description": "Common use cases for this capability",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "id": {
      "description": "Unique identifier for the capability in dot notation",
      "examples": [
        "core.safety",
        "core.communication",
        "orchestration",
        "multi-agent-coordination"
      ],
      "pattern": "^[a-z][a-z0-9-]*(\\.[a-z][a-z0-9-]*)*$",
      "type": "string"
    },
    "incompatibleWith": {
      "description": "Capabilities that conflict with this one",
      "items": {
        "pattern": "^[a-z][a-z0-9-]*(\\.[a-z][a-z0-9-]*)*$",
        "type": "string"
      },
      "type": "array",
      "uniqueItems": true
    },
    "name": {
      "description": "Human-readable name of the capability",
      "type": "string"
    },
    "platformAgnostic": {
      "default": true,
      "description": "Whether this capability works across all platforms (Copilot, Claude, etc.)",
      "type": "boolean"
    },
    "provides": {
      "description": "List of features or behaviors this capability provides",
      "items": {
        "type": "string"
      },
      "type": "array"
    },
    "requires": {
      "description": "Array of capability IDs that this capability depends on",
      "examples": [
        [
          "core.safety",
          "core.communication"
        ],
        []
      ],
      "items": {
        "pattern": "^[a-z][a-z0-9-]*(\\.[a-z][a-z0-9-]*)*$",
        "type": "string"
      },
      "type": "array",
      "uniqueItems": true
    },
    "status": {
      "description": "Maturity status of the capability",
      "enum": [
        "experimental",
        "beta",
        "stable",
        "deprecated"
      ],
      "type": "string"
    },
    "tags": {
      "description": "Tags for categorizing and searching capabilities",
      "items": {
        "type": "string"
      },
      "type": "array",
      "uniqueItems": true
    },
    "type": {
      "description": "Type of instruction: 'core-capability' for fundamental capabilities, 'capability' for optional/advanced ones",
      "enum": [
        "capability",
        "core-capability"
      ],
      "type": "string"
    },
    "updated": {
      "description": "Last update date in YYYY-MM-DD format",
      "format": "date",
      "type": "string"
    },
    "version": {
      "description": "Semantic version of the capability",
      "examples": [
        "1.0.0",
        "2.1.0"
      ],
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "type": "string"
    }
  },
  "required": [
    "applyTo",
    "description",
    "id",
    "version",
    "type",
    "category"
  ],
  "title": "Capability Metadata Schema",
  "type": "object"
}